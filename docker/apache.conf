# Apache configuration for the Symfony backend server

# Define a virtual host listening on port 80 (standard HTTP port)
<VirtualHost *:80>
    # Set the document root to the public directory of our Symfony app
    DocumentRoot /var/www/public
 
    # Configuration for the public directory
    <Directory /var/www/public>
        # Disable .htaccess files for better performance
        AllowOverride None
        # Set access control
        Order Allow,Deny
        Allow from All
 
        # URL rewriting for pretty URLs
        <IfModule mod_rewrite.c>
            # Enable the rewrite engine
            RewriteEngine On
            # Skip existing files (don't rewrite them)
            RewriteCond %{REQUEST_FILENAME} !-f
            # Redirect all other requests to index.php (Symfony's front controller)
            # QSA: Keep query string parameters, L: Last rule, stop processing
            RewriteRule ^(.*)$ index.php [QSA,L]
        </IfModule>
    </Directory>
</VirtualHost>